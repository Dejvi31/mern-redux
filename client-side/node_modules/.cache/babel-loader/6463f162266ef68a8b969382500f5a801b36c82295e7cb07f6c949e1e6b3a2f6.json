{"ast":null,"code":"import React,{useEffect}from\"react\";import MainScreen from\"../../components/MainScreen\";import{Link,useNavigate}from\"react-router-dom\";import{Accordion,Badge,Button,Card}from\"react-bootstrap\";import Loading from\"../../components/Loading\";import ErrorMessage from\"../../components/ErrorMessage\";import{useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import{deleteNoteAction,noteList}from\"../../actions/notesActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyNotes=function MyNotes(_ref){var search=_ref.search;var dispatch=useDispatch();var navigate=useNavigate();var noteList=useSelector(function(state){return state.noteList;});var loading=noteList.loading,notes=noteList.notes,error=noteList.error;console.log(noteList);var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var noteCreate=useSelector(function(state){return state.noteCreate;});var successCreate=noteCreate.success;var noteUpdate=useSelector(function(state){return state.noteUpdate;});var successUpdate=noteUpdate.success;var noteDelete=useSelector(function(state){return state.noteDelete;});var loadingDelete=noteDelete.loading,errorDelete=noteDelete.error,successDelete=noteDelete.success;var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteNoteAction(id));}};useEffect(function(){dispatch(noteList());if(!userInfo){navigate(\"/\");}},[dispatch,successCreate,navigate,userInfo,successUpdate,successDelete]);return/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome Back \".concat(userInfo&&userInfo.name),children:[/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create New Note\"})}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),loadingDelete&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loading,{}),notes===null||notes===void 0?void 0:notes.reverse().filter(function(filteredNote){return filteredNote.title.toLowerCase().includes(search.toLowerCase());}).map(function(note){return/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:[\"0\"],children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",textDecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18},children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Card.Text,variant:\"link\",eventKey:\"0\",children:note.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/note/\".concat(note._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(note._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:\"0\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"success\",text:\"light\",children:[\"Category - \",note.category]})}),note.createdAt&&/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on\",\" \",/*#__PURE__*/_jsx(\"cite\",{title:\"Source Title\",children:note.createdAt.substring(0,10)})]})]})]})})]})},note._id);})]});};export default MyNotes;","map":{"version":3,"names":["React","useEffect","MainScreen","Link","useNavigate","Accordion","Badge","Button","Card","Loading","ErrorMessage","useDispatch","useSelector","deleteNoteAction","noteList","jsx","_jsx","jsxs","_jsxs","MyNotes","_ref","search","dispatch","navigate","state","loading","notes","error","console","log","userLogin","userInfo","noteCreate","successCreate","success","noteUpdate","successUpdate","noteDelete","loadingDelete","errorDelete","successDelete","deleteHandler","id","window","confirm","title","concat","name","children","to","style","marginLeft","marginBottom","size","variant","reverse","filter","filteredNote","toLowerCase","includes","map","note","defaultActiveKey","margin","Header","display","color","textDecoration","flex","cursor","alignSelf","fontSize","Toggle","as","Text","eventKey","href","_id","className","onClick","Collapse","Body","bg","text","category","createdAt","content","substring"],"sources":["C:/Users/User/Documents/mern-stack/mern-redux/client-side/src/screens/MyNotes/MyNotes.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport MainScreen from \"../../components/MainScreen\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Accordion, Badge, Button, Card } from \"react-bootstrap\";\r\nimport Loading from \"../../components/Loading\";\r\nimport ErrorMessage from \"../../components/ErrorMessage\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { deleteNoteAction, noteList } from \"../../actions/notesActions\";\r\n\r\nconst MyNotes = ({ search }) => {\r\n  const dispatch = useDispatch();\r\n  let navigate = useNavigate();\r\n\r\n  const noteList = useSelector((state) => state.noteList);\r\n  const { loading, notes, error } = noteList;\r\n\r\n  console.log(noteList);\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const noteCreate = useSelector((state) => state.noteCreate);\r\n  const { success: successCreate } = noteCreate;\r\n\r\n  const noteUpdate = useSelector((state) => state.noteUpdate);\r\n  const { success: successUpdate } = noteUpdate;\r\n\r\n  const noteDelete = useSelector((state) => state.noteDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = noteDelete;\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      dispatch(deleteNoteAction(id));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(noteList());\r\n    if (!userInfo) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [\r\n    dispatch,\r\n    successCreate,\r\n    navigate,\r\n    userInfo,\r\n    successUpdate,\r\n    successDelete,\r\n  ]);\r\n\r\n  return (\r\n    <MainScreen title={`Welcome Back ${userInfo && userInfo.name}`}>\r\n      <Link to={\"/createnote\"}>\r\n        <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\r\n          Create New Note\r\n        </Button>\r\n      </Link>\r\n\r\n      {errorDelete && (\r\n        <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\r\n      )}\r\n      {loadingDelete && <Loading />}\r\n      {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\r\n      {loading && <Loading />}\r\n      {notes\r\n        ?.reverse()\r\n        .filter((filteredNote) =>\r\n          filteredNote.title.toLowerCase().includes(search.toLowerCase())\r\n        )\r\n        .map((note) => {\r\n          return (\r\n            <Accordion defaultActiveKey={[\"0\"]} key={note._id}>\r\n              <Card style={{ margin: 10 }}>\r\n                <Card.Header style={{ display: \"flex\" }}>\r\n                  <span\r\n                    style={{\r\n                      color: \"black\",\r\n                      textDecoration: \"none\",\r\n                      flex: 1,\r\n                      cursor: \"pointer\",\r\n                      alignSelf: \"center\",\r\n                      fontSize: 18,\r\n                    }}\r\n                  >\r\n                    <Accordion.Toggle\r\n                      as={Card.Text}\r\n                      variant=\"link\"\r\n                      eventKey=\"0\"\r\n                    >\r\n                      {note.title}\r\n                    </Accordion.Toggle>\r\n                  </span>\r\n                  <div>\r\n                    <Button href={`/note/${note._id}`}>Edit</Button>\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      className=\"mx-2\"\r\n                      onClick={() => deleteHandler(note._id)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </div>\r\n                </Card.Header>\r\n                <Accordion.Collapse eventKey=\"0\">\r\n                  <Card.Body>\r\n                    <h4>\r\n                      <Badge bg=\"success\" text=\"light\">\r\n                        Category - {note.category}\r\n                      </Badge>\r\n                    </h4>\r\n                    {note.createdAt && (\r\n                      <blockquote className=\"blockquote mb-0\">\r\n                        <p>{note.content}</p>\r\n                        <footer className=\"blockquote-footer\">\r\n                          Created on{\" \"}\r\n                          <cite title=\"Source Title\">\r\n                            {note.createdAt.substring(0, 10)}\r\n                          </cite>\r\n                        </footer>\r\n                      </blockquote>\r\n                    )}\r\n                  </Card.Body>\r\n                </Accordion.Collapse>\r\n              </Card>\r\n            </Accordion>\r\n          );\r\n        })}\r\n    </MainScreen>\r\n  );\r\n};\r\n\r\nexport default MyNotes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}